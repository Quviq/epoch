-module(block_provider).

-include_lib("eqc/include/eqc.hrl").

-compile([export_all, nowarn_export_all]).

start() ->
  start(chain()).

start(Chain) ->
  spawn(fun() ->
            %% Remove genisis block
            register(?MODULE, self()),
            loop(tl(Chain), #{})
        end).

continue(Nonce) ->
  ?MODULE ! {continue, Nonce}.

mine(X, Y) ->
  %% We call a mocked function here to see values on model
  %% io:format("start to mine ~p with pid ~p\n", [Y, self()]),
  Expected = mock:mine(X, Y),
  ?MODULE ! {wait_for, self(), X, Y, Expected},
  receive
    crash ->
      exit(crashed_on_demand);
    Msg -> 
      % io:format("got continue ~p\n", [self()]),
      Msg
  after 5000 ->
      error
  end.

stop() ->
  ?MODULE ! continue,
  ?MODULE ! {stop, self()},
  receive
    X ->
       X
  end.

loop(Chain, Queue) ->
  receive
    {wait_for, From, Block, Nonce, Expected} ->
      loop(Chain, Queue#{Nonce => {From, Block, Expected}});
    {continue, Nonce} ->
      {From, Block, Expected} = maps:get(Nonce, Queue),
      % io:format("Sending answer to ~p to  ~p\n", [Expected, From]),
      case Expected of 
        ok ->
          %% io:format("Provided block ~p\n", [element(2, Block)]),
          From ! {ok, Block},
          loop(Chain, maps:remove(Nonce, Queue));
        Other ->
          From ! Other,
          loop(Chain, maps:remove(Nonce, Queue))
      end;
    {stop, From} ->
      catch unregister(?MODULE),
      From ! stopped
  after 10000 ->
      unregister(?MODULE),
      stop
  end.
  


chain() ->
  chain(main).

chain(Kind, N) ->
  lists:nth(N+1, chain(Kind)).

chain({Kind, Nr}) ->
  chain(Kind, Nr);
chain(main) ->
  [{block,0,
        <<0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
          0,0,0,0>>,
        <<0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
          0,0,0,0>>,
        {trees,{0,empty}},
        <<0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
          0,0,0,0>>,
        [],553713663,0,0,1,no_value},
 {block,1,
        <<172,206,165,114,249,181,47,176,227,168,152,88,67,175,80,
          181,151,240,183,107,33,183,219,57,139,160,15,149,170,
          209,90,75>>,
        <<96,238,181,221,85,153,57,128,118,7,113,35,106,106,164,
          193,154,124,18,243,27,69,28,143,252,93,250,240,232,125,
          240,25>>,
        {trees,{1,
                {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                   86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                   102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                   202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                   187,139,134,135,116>>,
                 <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                   4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                   86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                   102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                   202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                   139,134,135,116,97,10,97,0,97,1>>,
                 <<96,238,181,221,85,153,57,128,118,7,113,35,106,106,
                   164,193,154,124,18,243,27,69,28,143,252,93,250,240,
                   232,125,240,25>>}}},
        <<232,155,187,141,3,23,202,206,163,109,184,33,178,162,100,
          195,28,109,159,89,142,154,144,119,93,31,227,8,168,181,
          196,81>>,
        [{signed_tx,{coinbase_tx,<<4,28,126,88,146,45,209,1,119,
                                   141,211,161,157,57,22,97,86,
                                   27,191,104,87,218,95,122,170,
                                   91,245,21,142,145,16,102,12,
                                   33,182,156,4,166,149,88,234,
                                   244,254,18,134,246,202,12,107,
                                   211,226,241,242,177,245,156,
                                   137,61,74,15,187,139,134,135,
                                   116>>},
                    [<<48,68,2,32,32,206,234,114,70,136,203,68,58,45,134,92,
                       86,179,36,27,220,174,169,159,69,10,122,106,22,195,33,
                       231,112,129,238,84,2,32,16,34,131,21,58,168,2,141,
                       169,52,144,140,122,113,221,134,56,123,0,38,198,85,62,
                       136,82,142,128,118,42,212,229,166>>]},
         {signed_tx,{spend_tx,<<4,22,171,52,187,39,153,189,110,69,
                                9,224,71,98,44,139,78,228,105,106,
                                106,184,197,83,121,113,48,242,172,
                                239,149,82,78,121,228,12,62,124,
                                249,67,95,237,49,66,43,67,232,81,2,
                                6,187,83,196,132,236,78,120,214,85,
                                207,119,222,176,117,158>>,
                              <<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                                133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                                67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                                38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                                147,187>>,
                              7,0,7},
                    [<<48,69,2,32,78,227,36,81,112,225,144,87,219,235,156,
                       180,159,84,177,211,125,13,218,224,96,112,53,28,66,
                       189,15,222,225,11,88,158,2,33,0,235,183,250,221,206,
                       174,67,194,42,53,124,107,154,167,166,83,172,50,52,
                       209,149,201,201,155,172,238,169,145,211,227,43,226>>]},
         {signed_tx,{spend_tx,<<4,22,171,52,187,39,153,189,110,69,
                                9,224,71,98,44,139,78,228,105,106,
                                106,184,197,83,121,113,48,242,172,
                                239,149,82,78,121,228,12,62,124,
                                249,67,95,237,49,66,43,67,232,81,2,
                                6,187,83,196,132,236,78,120,214,85,
                                207,119,222,176,117,158>>,
                              <<4,181,173,18,39,222,51,164,209,187,231,191,118,204,203,
                                129,213,120,11,95,205,61,38,177,168,187,239,17,151,187,
                                5,16,125,242,57,38,16,84,197,89,165,13,223,187,66,3,239,
                                160,5,148,107,119,221,44,211,175,44,205,95,117,52,143,
                                176,135,7>>, 
                              5,5,7},
                    [<<48,69,2,32,118,214,238,142,168,90,186,174,65,21,191,
                       145,230,144,168,76,120,22,201,108,247,50,158,215,
                       168,129,253,218,158,112,54,101,2,33,0,232,251,193,
                       237,91,126,209,246,253,36,31,45,98,149,28,123,202,
                       222,91,64,63,240,124,185,149,79,149,159,96,158,168,
                       234>>]}],
        553713663,0,1511256501114,1,no_value},
 {block,2,
        <<72,182,182,175,96,68,146,213,161,163,121,13,136,42,179,
          169,245,201,16,76,150,179,249,65,111,199,109,56,42,227,
          66,173>>,
        <<24,54,8,140,197,12,99,142,217,164,14,180,61,198,112,185,
          15,50,78,146,151,45,6,219,36,201,158,84,193,148,203,96>>,
        {trees,{2,
                {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                   133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                   84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                   220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                   34,155,147,187>>,
                 <<24,54,8,140,197,12,99,142,217,164,14,180,61,198,112,185,
                   15,50,78,146,151,45,6,219,36,201,158,84,193,148,203,96>>,
                 {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                    86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                    102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                    202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                    187,139,134,135,116>>,
                  <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                    4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                    86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                    102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                    202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                    139,134,135,116,97,10,97,0,97,1>>,
                  <<96,238,181,221,85,153,57,128,118,7,113,35,106,106,164,
                    193,154,124,18,243,27,69,28,143,252,93,250,240,232,125,
                    240,25>>},
                 {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                    84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                    220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                    34,155,147,187>>,
                  <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                    4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                    67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                    38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                    147,187,97,10,97,0,97,2>>,
                  <<44,240,225,189,101,101,22,104,83,85,31,28,117,8,116,
                    209,238,84,128,143,184,125,20,247,196,220,7,151,185,
                    180,46,210>>}}}},
        <<60,205,141,210,167,79,119,93,185,160,95,154,118,162,217,
          136,62,216,41,56,24,33,239,199,13,158,19,39,166,229,191,
          127>>,
        [{signed_tx,{coinbase_tx,<<4,36,118,86,251,77,152,204,35,
                                   86,61,64,81,254,235,168,133,
                                   112,227,119,234,23,246,163,
                                   127,217,48,107,66,225,84,67,
                                   199,128,215,39,210,42,0,189,
                                   79,215,152,54,190,220,41,38,
                                   104,225,29,53,41,21,38,213,
                                   157,36,124,153,21,34,155,147,
                                   187>>},
                    [<<48,69,2,32,68,35,16,66,112,124,229,244,227,214,173,
                       15,236,32,111,35,242,196,134,254,15,182,221,205,177,
                       241,47,156,9,4,219,229,2,33,0,234,155,227,34,117,11,
                       126,125,28,253,25,17,196,175,35,136,155,239,229,197,
                       73,27,96,246,165,205,65,224,221,75,69,157>>]}],
        553713663,0,1511256501115,1,no_value},
 {block,3,
        <<251,155,65,7,116,85,59,163,85,101,203,168,165,130,103,
          72,5,49,134,161,252,98,49,144,21,152,145,70,232,254,8,
          111>>,
        <<177,123,205,218,2,22,206,15,131,40,238,242,95,178,174,
          28,79,110,134,65,245,83,255,54,5,73,33,62,52,227,21,153>>,
        {trees,{3,
                {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                   133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                   84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                   220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                   34,155,147,187>>,
                 <<177,123,205,218,2,22,206,15,131,40,238,242,95,178,174,
                   28,79,110,134,65,245,83,255,54,5,73,33,62,52,227,21,153>>,
                 {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                    86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                    102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                    202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                    187,139,134,135,116>>,
                  <<132,123,78,20,188,151,153,229,19,11,179,141,235,157,192,
                    173,6,147,251,99,189,19,180,15,205,20,215,96,232,118,
                    126,16>>,
                  {<<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,
                     78,228,105,106,106,184,197,83,121,113,48,242,172,239,
                     149,82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,
                     232,81,2,6,187,83,196,132,236,78,120,214,85,207,119,
                     222,176,117,158>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                     228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                     82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                     81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                     117,158,97,10,97,0,97,3>>,
                   <<108,191,128,196,180,86,113,79,15,233,98,159,134,23,192,
                     123,198,198,83,164,93,5,245,72,125,231,255,79,69,148,
                     108,189>>},
                  {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                     187,139,134,135,116>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                     139,134,135,116,97,10,97,0,97,1>>,
                   <<96,238,181,221,85,153,57,128,118,7,113,35,106,106,164,
                     193,154,124,18,243,27,69,28,143,252,93,250,240,232,
                     125,240,25>>}},
                 {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                    84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                    220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                    34,155,147,187>>,
                  <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                    4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                    67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                    38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                    147,187,97,10,97,0,97,2>>,
                  <<44,240,225,189,101,101,22,104,83,85,31,28,117,8,116,
                    209,238,84,128,143,184,125,20,247,196,220,7,151,185,
                    180,46,210>>}}}},
        <<152,79,70,195,10,233,211,133,169,215,221,152,232,213,
          147,250,216,25,87,68,204,187,224,119,26,214,48,197,220,
          137,247,6>>,
        [{signed_tx,{coinbase_tx,<<4,22,171,52,187,39,153,189,
                                   110,69,9,224,71,98,44,139,78,
                                   228,105,106,106,184,197,83,
                                   121,113,48,242,172,239,149,82,
                                   78,121,228,12,62,124,249,67,
                                   95,237,49,66,43,67,232,81,2,6,
                                   187,83,196,132,236,78,120,214,
                                   85,207,119,222,176,117,158>>},
                    [<<48,69,2,33,0,168,252,10,209,23,71,104,239,88,95,80,
                       21,197,62,173,164,175,238,219,213,19,115,185,117,56,
                       248,194,56,50,64,25,158,2,32,48,254,88,137,124,246,
                       94,243,219,111,4,118,63,169,22,101,62,100,107,92,98,
                       41,75,210,115,46,118,236,197,255,216,165>>]},
         {signed_tx,{spend_tx,<<4,22,171,52,187,39,153,189,110,69,
                                9,224,71,98,44,139,78,228,105,106,
                                106,184,197,83,121,113,48,242,172,
                                239,149,82,78,121,228,12,62,124,
                                249,67,95,237,49,66,43,67,232,81,2,
                                6,187,83,196,132,236,78,120,214,85,
                                207,119,222,176,117,158>>,
                              <<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                                133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                                67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                                38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                                147,187>>,
                              5,7,1},
                    [<<48,70,2,33,0,177,42,23,157,40,238,124,58,248,222,5,
                       188,190,172,164,233,105,201,8,11,200,238,176,159,192,
                       161,76,88,160,106,117,69,2,33,0,163,33,44,85,155,11,
                       21,226,254,64,55,211,2,239,14,41,218,165,227,252,120,
                       63,253,239,198,217,128,162,141,158,152,56>>]},
         {signed_tx,{spend_tx,<<4,36,118,86,251,77,152,204,35,86,
                                61,64,81,254,235,168,133,112,227,
                                119,234,23,246,163,127,217,48,107,
                                66,225,84,67,199,128,215,39,210,42,
                                0,189,79,215,152,54,190,220,41,38,
                                104,225,29,53,41,21,38,213,157,36,
                                124,153,21,34,155,147,187>>,
                              <<4,181,173,18,39,222,51,164,209,187,231,191,118,204,203,
                                129,213,120,11,95,205,61,38,177,168,187,239,17,151,187,
                                5,16,125,242,57,38,16,84,197,89,165,13,223,187,66,3,239,
                                160,5,148,107,119,221,44,211,175,44,205,95,117,52,143,
                                176,135,7>>,
                              5,9,9},
                    [<<48,69,2,32,63,116,45,21,188,253,0,125,230,76,44,48,
                       167,162,157,42,232,161,3,30,22,78,251,203,122,119,83,
                       218,193,234,114,174,2,33,0,151,22,146,85,7,184,225,
                       59,26,133,146,123,14,117,118,231,10,232,224,165,169,
                       64,133,69,93,235,173,179,222,193,164,14>>]},
         {signed_tx,{spend_tx,<<4,36,118,86,251,77,152,204,35,86,
                                61,64,81,254,235,168,133,112,227,
                                119,234,23,246,163,127,217,48,107,
                                66,225,84,67,199,128,215,39,210,42,
                                0,189,79,215,152,54,190,220,41,38,
                                104,225,29,53,41,21,38,213,157,36,
                                124,153,21,34,155,147,187>>,
                              <<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                                86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                                102,12,33,182,156,4,166,149,88,234,244,254,18,134,246, 
                                202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                                139,134,135,116>>,
                              5,7,1},
                    [<<48,69,2,32,4,141,181,149,39,193,7,9,143,123,149,227, 
                       20,0,177,62,54,51,102,164,71,80,125,145,64,154,149,
                       61,236,241,133,139,2,33,0,178,161,86,218,176,208,
                       223,122,181,99,15,227,159,114,164,90,32,131,18,146,
                       152,6,63,60,237,239,144,125,7,31,8,239>>]}],
        553713663,0,1511256501120,1,no_value},
 {block,4,
        <<113,94,205,125,46,174,36,30,202,192,22,126,9,86,147,158,
          183,61,190,244,12,168,173,230,186,38,152,184,182,208,
          211,164>>,
        <<42,114,173,148,147,196,220,174,138,245,125,136,234,12,
          71,70,242,235,51,230,18,19,9,51,254,181,134,93,101,109,
          106,17>>,
        {trees,{3,
                {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                   133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                   84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                   220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                   34,155,147,187>>,
                 <<42,114,173,148,147,196,220,174,138,245,125,136,234,12,
                   71,70,242,235,51,230,18,19,9,51,254,181,134,93,101,109,
                   106,17>>,
                 {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                    86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                    102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                    202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                    187,139,134,135,116>>,
                  <<133,116,233,37,217,71,28,19,236,205,47,201,31,226,14,
                    194,49,218,44,28,91,235,66,190,118,24,76,180,133,28,128,
                    208>>,
                  {<<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,
                     78,228,105,106,106,184,197,83,121,113,48,242,172,239,
                     149,82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,
                     232,81,2,6,187,83,196,132,236,78,120,214,85,207,119,
                     222,176,117,158>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                     228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                     82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                     81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                     117,158,97,17,97,0,97,4>>,
                   <<44,4,237,35,125,24,217,211,37,15,207,178,228,181,115,
                     99,203,69,49,252,197,124,179,76,85,135,225,30,237,113,
                     199,74>>},
                  {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                     187,139,134,135,116>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                     139,134,135,116,97,13,97,4,97,4>>,
                   <<8,178,99,203,124,242,95,179,35,251,18,67,30,189,27,16,
                     168,27,171,122,146,109,237,163,38,64,254,60,3,245,54,
                     169>>}},
                 {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                    84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                    220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                    34,155,147,187>>,
                  <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                    4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                    67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                    38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                    147,187,97,10,97,0,97,2>>,
                  <<44,240,225,189,101,101,22,104,83,85,31,28,117,8,116,
                    209,238,84,128,143,184,125,20,247,196,220,7,151,185,
                    180,46,210>>}}}},
        <<232,42,140,105,150,68,114,35,15,101,204,153,73,157,27,
          118,160,12,116,123,185,109,154,133,149,144,218,215,218,
          221,195,96>>,
        [{signed_tx,{coinbase_tx,<<4,28,126,88,146,45,209,1,119,
                                   141,211,161,157,57,22,97,86,
                                   27,191,104,87,218,95,122,170,
                                   91,245,21,142,145,16,102,12,
                                   33,182,156,4,166,149,88,234,
                                   244,254,18,134,246,202,12,107,
                                   211,226,241,242,177,245,156,
                                   137,61,74,15,187,139,134,135,
                                   116>>},
                    [<<48,68,2,32,94,201,142,81,62,52,214,150,155,184,248,
                       73,178,180,255,232,88,195,237,149,29,107,126,113,50,
                       117,46,23,82,32,101,176,2,32,50,113,61,38,223,21,137,
                       196,24,240,16,27,12,115,108,195,55,214,223,80,250,
                       137,83,219,107,142,166,5,44,188,65,96>>]},
         {signed_tx,{spend_tx,<<4,28,126,88,146,45,209,1,119,141,
                                211,161,157,57,22,97,86,27,191,104,
                                87,218,95,122,170,91,245,21,142,
                                145,16,102,12,33,182,156,4,166,149,
                                88,234,244,254,18,134,246,202,12,
                                107,211,226,241,242,177,245,156,
                                137,61,74,15,187,139,134,135,116>>,
                              <<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                                228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                                82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                                81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                                117,158>>,
                              7,5,4},
                    [<<48,70,2,33,0,230,65,167,50,67,25,14,61,110,100,5,8,
                       51,193,28,4,10,230,49,78,9,255,101,28,89,132,134,57,
                       158,203,245,153,2,33,0,239,106,151,64,227,199,197,41,
                       238,132,226,234,57,147,106,63,65,249,63,16,40,119,
                       217,79,219,47,163,73,211,22,196,221>>]},
         {signed_tx,{spend_tx,<<4,181,173,18,39,222,51,164,209,187,
                                231,191,118,204,203,129,213,120,11,
                                95,205,61,38,177,168,187,239,17,
                                151,187,5,16,125,242,57,38,16,84,
                                197,89,165,13,223,187,66,3,239,160,
                                5,148,107,119,221,44,211,175,44,
                                205,95,117,52,143,176,135,7>>,
                              <<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                                86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                                102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                                202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                                139,134,135,116>>,
                              3,8,9},
                    [<<48,69,2,33,0,211,184,29,158,70,91,151,23,109,108,
                       113,36,70,185,9,39,32,228,0,209,114,9,107,25,40,48,
                       142,147,134,182,209,213,2,32,57,239,213,200,13,159,
                       226,248,165,157,27,144,221,193,28,181,131,31,144,
                       167,114,152,216,194,236,87,154,253,151,239,67,49>>]}],
        553713663,0,1511256501123,1,no_value},
 {block,5,
        <<190,29,172,136,228,144,45,42,17,158,110,21,211,164,86,
          131,21,230,157,36,193,168,229,133,173,254,179,87,227,
          154,87,62>>,
        <<109,142,70,211,49,7,113,43,30,215,186,92,246,168,56,152,
          109,46,69,61,45,225,79,161,168,193,10,14,146,221,116,193>>,
        {trees,{3,
                {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                   133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                   84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                   220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                   34,155,147,187>>,
                 <<109,142,70,211,49,7,113,43,30,215,186,92,246,168,56,152,
                   109,46,69,61,45,225,79,161,168,193,10,14,146,221,116,193>>,
                 {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                    86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                    102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                    202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                    187,139,134,135,116>>,
                  <<66,105,141,129,114,156,70,46,200,196,123,117,16,178,109,
                    94,185,43,100,15,112,50,233,84,210,243,146,148,61,39,84,
                    193>>,
                  {<<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,
                     78,228,105,106,106,184,197,83,121,113,48,242,172,239,
                     149,82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,
                     232,81,2,6,187,83,196,132,236,78,120,214,85,207,119,
                     222,176,117,158>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                     228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                     82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                     81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                     117,158,97,17,97,0,97,4>>,
                   <<44,4,237,35,125,24,217,211,37,15,207,178,228,181,115,
                     99,203,69,49,252,197,124,179,76,85,135,225,30,237,113,
                     199,74>>},
                  {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                     187,139,134,135,116>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                     139,134,135,116,97,23,97,4,97,5>>,
                   <<90,175,245,251,219,71,121,205,146,174,224,2,152,253,
                     12,218,184,2,147,56,254,235,186,34,11,231,240,7,138,
                     13,16,129>>}},
                 {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                    84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                    220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                    34,155,147,187>>,
                  <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                    4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                    67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                    38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                    147,187,97,10,97,0,97,2>>,
                  <<44,240,225,189,101,101,22,104,83,85,31,28,117,8,116,
                    209,238,84,128,143,184,125,20,247,196,220,7,151,185,
                    180,46,210>>}}}}, 
        <<57,62,193,227,110,162,1,4,90,212,141,228,17,246,92,214,
          255,247,132,196,22,160,161,152,36,73,87,224,211,111,127,
          215>>,
        [{signed_tx,{coinbase_tx,<<4,28,126,88,146,45,209,1,119,
                                   141,211,161,157,57,22,97,86,
                                   27,191,104,87,218,95,122,170,
                                   91,245,21,142,145,16,102,12,
                                   33,182,156,4,166,149,88,234,
                                   244,254,18,134,246,202,12,107,
                                   211,226,241,242,177,245,156,
                                   137,61,74,15,187,139,134,135,
                                   116>>},
                    [<<48,69,2,33,0,175,141,21,230,63,19,79,226,190,22,8,
                       156,56,97,22,118,119,236,10,126,168,71,254,173,60,
                       17,109,16,16,73,209,23,2,32,71,132,122,203,79,73,
                       153,59,71,62,140,173,129,123,175,233,165,209,161,75,
                       232,22,203,127,164,18,148,27,178,165,181,22>>]}],
        553713663,0,1511256501124,1,no_value},
 {block,6,
        <<158,169,217,140,27,168,225,64,58,110,205,164,91,40,242,
          224,46,200,237,56,200,115,203,85,51,208,129,216,247,155, 
          1,191>>,
        <<196,77,223,220,166,24,186,185,104,100,140,111,212,111,
          81,227,231,109,166,92,85,62,122,163,241,201,28,107,207,
          31,83,11>>,
        {trees,{3,
                {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                   133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                   84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                   220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                   34,155,147,187>>,
                 <<196,77,223,220,166,24,186,185,104,100,140,111,212,111,
                   81,227,231,109,166,92,85,62,122,163,241,201,28,107,207,
                   31,83,11>>,
                 {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                    86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                    102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                    202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                    187,139,134,135,116>>,
                  <<235,178,132,207,27,243,194,130,226,65,208,186,213,119,
                    35,157,193,191,181,238,214,1,207,44,176,26,166,43,23,
                    164,173,151>>,
                  {<<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,
                     78,228,105,106,106,184,197,83,121,113,48,242,172,239,
                     149,82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,
                     232,81,2,6,187,83,196,132,236,78,120,214,85,207,119,
                     222,176,117,158>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                     228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                     82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                     81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                     117,158,97,25,97,0,97,6>>,
                   <<55,45,121,184,182,225,227,233,196,152,183,114,16,149,
                     31,86,48,107,90,31,107,114,232,96,214,19,148,179,129,
                     10,209,74>>},
                  {<<4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,
                     187,139,134,135,116>>,
                   <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                     4,28,126,88,146,45,209,1,119,141,211,161,157,57,22,97,
                     86,27,191,104,87,218,95,122,170,91,245,21,142,145,16,
                     102,12,33,182,156,4,166,149,88,234,244,254,18,134,246,
                     202,12,107,211,226,241,242,177,245,156,137,61,74,15,187,
                     139,134,135,116,97,25,97,7,97,6>>,
                   <<12,118,77,23,41,69,51,155,119,225,74,92,224,144,194,
                     79,7,172,190,4,241,131,167,141,133,95,88,4,131,44,97,
                     19>>}},
                 {<<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,
                    84,67,199,128,215,39,210,42,0,189,79,215,152,54,190,
                    220,41,38,104,225,29,53,41,21,38,213,157,36,124,153,21,
                    34,155,147,187>>,
                  <<131,104,5,100,0,7,97,99,99,111,117,110,116,109,0,0,0,65,
                    4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                    133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                    67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                    38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                    147,187,97,10,97,0,97,2>>,
                  <<44,240,225,189,101,101,22,104,83,85,31,28,117,8,116,
                    209,238,84,128,143,184,125,20,247,196,220,7,151,185,
                    180,46,210>>}}}},
        <<90,109,21,8,250,206,69,21,79,198,17,222,45,73,162,155,
          51,39,128,25,161,97,20,154,203,79,32,196,86,110,221,158>>,
        [{signed_tx,{coinbase_tx,<<4,28,126,88,146,45,209,1,119,
                                   141,211,161,157,57,22,97,86,
                                   27,191,104,87,218,95,122,170,
                                   91,245,21,142,145,16,102,12,
                                   33,182,156,4,166,149,88,234,
                                   244,254,18,134,246,202,12,107,
                                   211,226,241,242,177,245,156,
                                   137,61,74,15,187,139,134,135,
                                   116>>},
                    [<<48,69,2,33,0,231,71,203,135,13,145,52,217,233,224,
                       188,69,251,176,182,105,66,89,247,101,174,148,170,42,
                       54,27,224,191,8,176,168,99,2,32,72,138,246,191,188,
                       204,48,129,81,14,86,73,119,233,72,177,121,7,228,152,
                       82,17,136,29,223,165,240,183,37,4,143,92>>]},
         {signed_tx,{spend_tx,<<4,28,126,88,146,45,209,1,119,141,
                                211,161,157,57,22,97,86,27,191,104,
                                87,218,95,122,170,91,245,21,142,
                                145,16,102,12,33,182,156,4,166,149,
                                88,234,244,254,18,134,246,202,12,
                                107,211,226,241,242,177,245,156,
                                137,61,74,15,187,139,134,135,116>>,
                              <<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                                228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                                82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                                81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                                117,158>>,
                              8,6,7},
                    [<<48,69,2,33,0,245,7,143,112,199,36,232,231,32,230,158,
                       7,56,67,146,206,195,79,123,59,241,48,162,40,183,145,
                       196,22,124,76,172,142,2,32,11,175,234,53,3,151,58,17,
                       185,178,226,113,25,201,93,146,37,58,172,18,255,113,
                       192,46,172,107,79,105,42,18,62,90>>]},
         {signed_tx,{spend_tx,<<4,28,126,88,146,45,209,1,119,141,
                                211,161,157,57,22,97,86,27,191,104,
                                87,218,95,122,170,91,245,21,142,
                                145,16,102,12,33,182,156,4,166,149,
                                88,234,244,254,18,134,246,202,12,
                                107,211,226,241,242,177,245,156,
                                137,61,74,15,187,139,134,135,116>>,
                              <<4,22,171,52,187,39,153,189,110,69,9,224,71,98,44,139,78,
                                228,105,106,106,184,197,83,121,113,48,242,172,239,149,
                                82,78,121,228,12,62,124,249,67,95,237,49,66,43,67,232,
                                81,2,6,187,83,196,132,236,78,120,214,85,207,119,222,176,
                                117,158>>,
                              1,7,1},
                    [<<48,68,2,32,22,52,185,99,223,65,31,96,197,252,16,104,
                       201,111,245,108,223,199,171,248,186,118,161,126,170,
                       130,245,60,140,208,248,130,2,32,74,214,13,12,56,126,
                       187,104,4,209,161,141,38,111,45,59,183,162,206,142,
                       223,149,94,120,49,255,94,75,180,212,195,92>>]},
         {signed_tx,{spend_tx,<<4,28,126,88,146,45,209,1,119,141,
                                211,161,157,57,22,97,86,27,191,104,
                                87,218,95,122,170,91,245,21,142,
                                145,16,102,12,33,182,156,4,166,149,
                                88,234,244,254,18,134,246,202,12,
                                107,211,226,241,242,177,245,156,
                                137,61,74,15,187,139,134,135,116>>,
                              <<4,36,118,86,251,77,152,204,35,86,61,64,81,254,235,168,
                                133,112,227,119,234,23,246,163,127,217,48,107,66,225,84,
                                67,199,128,215,39,210,42,0,189,79,215,152,54,190,220,41,
                                38,104,225,29,53,41,21,38,213,157,36,124,153,21,34,155,
                                147,187>>,
                              8,7,5},
                    [<<48,69,2,33,0,227,111,9,145,141,116,33,21,201,102,
                       193,108,186,170,162,80,228,214,30,50,173,107,217,
                       225,183,201,164,47,123,56,59,3,2,32,47,234,188,118,
                       16,71,237,1,230,123,65,114,207,223,249,35,21,232,68,
                       222,79,74,111,216,24,182,8,186,196,110,26,0>>]}],
        553713663,0,1511256501129,1,no_value}].
